##  构建工具路径查找

> 在工程项目中，导入依赖资源，分为两种：
>
> - 直接书写导入的包名。（或以包名开头）
> - 相对路径导入资源。（以`./`或`../`开头）
>
> 不同的书写方式，构建工具查找资源的方式也不同。通常情况下：
>
> - 通过`Javascript`包管理器，下载的包，皆会在`node_modules`目录下。使用包名或包名开头导入。
> - 其他资源：编写的代码文件、图片、视频等。使用以`./`或`../`开头的相对路径导入。



## 查找直接书写的包

```js
import axios from 'axios';
```

查找`axios`包，查找方式：

- 查找是否是`nodejs`内置模块。

  - 若是，则直接从`nodejs`内置模块中导入。
  - 若不是，则继续下面查找：

- 在当前目录下，查找是否存在`node_modules`文件夹：

  - 存在：在`node_modules`目录下，查找是否存在`axios`包。
    - 存在：在`axios`包下，查找是否存在`package.json`文件。
      - 存在：读取`package.json`，结果为一个对象，读取`对象.main`值。值为包的入口文件。
        - 若是`对象.main`值为`undefined`，或构建工具找不到``对象.main `描述的入口模块。则默认使用`axios`包下的`index.js`或`index.ts`作为入口模块导入。
        - 若是构建工具查找到`对象.main`描述的入口模块，则导入，并停止查找。
      - 不存在：则默认使用`axios`包下的`index.js`或`index.ts`作为入口模块导入。
    - 不存在：往上一级目录下，查找是否存在`node_modules`文件夹。
  - 不存在：往上一级目录下，查找是否存在`node_modules`文件夹。
  - 直到系统根目录为止，依然未查找到，则报包查找不到错误。

  

## 查找相对路径书写的包

```js
import './demo';
```

**前置知识**：在`js`、`ts`、`样式`代码中，可以配置能省略的文件后缀名查找。例如：在样式文件中，可以省略`.css`、'.less'后缀，在文件查找时，默认会查找`.css`、`.less`后缀名的文件。



假设在`js`或`ts`代码中，仅能省略`.ts`、`.js`后缀名：

- 查找当前目录下是否存在`demo.js`或`demo.ts`。
  - 若是存在，则导入。
  - 若是不存在，则查找当前目录下是否存在`demo`目录
    - 若是存在，则在`demo`目录下，查找是否存在`index.js`或`index.ts`文件。
      - 若是存在，则导入。
      - 若是不存在，则报文件查找找不到错误。
    - 若是不存在，则报文件找不到错误。





































