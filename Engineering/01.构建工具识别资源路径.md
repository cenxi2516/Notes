# 构建工具识别资源路径

> 构建工具仅识别特定场景下的静态路径，无法识别动态路径。**例如**：将资源路径使用变量绑定。
>
> **原因在于**：构建工具并未对代码进行运行，也就无法识别动态路径。
>
> 代码对构建工具而言，先是普通的文本，之后是`AST`。构建工具，在`AST`的基础上，对代码进行语法分析等工作（许多插件完成），但也并未运行代码。

## 构建工具识别静态路径

> **以下场景的静态路径(相对路径)，会被构建工具识别，并作为模块依赖**：

### HTML（模版）

- `img`、`video`、`audio`、`embed`、`object`等媒体元素的 `src` 相对路径**。

```html
<img src="./assets/load.png">
```

**需要注意**：在模版中能识别项目工程`src`路径简写。例如：`@`



### CSS（样式）

- `@import`导入资源的相对路径。
- `background-image`导入资源的相对路径。
- `border-image`导入资源的相对路径。
- `list-style-image`导入资源的相对路径。
- ...



### JS（功能）

> 可以导入任何资源，都会作为模块依赖。

- ESM模块导入资源

```js
import App from './App';
import './tools';
import styles from './index.module.less';

const $ = import('jquery');
```

- CMJ模块导入资源

```js
const axios = require('axios');
```



## 静态资源与动态资源

> 在工程项目中:
>
> - 将`src`目录下嵌入代码中的资源，称之为动态资源。一般会放入`assets`目录中。
>
> - 将`public`目录下资源，称之为静态资源。

#### **动态资源**

嵌入代码中的动态资源会被构建工具作为模块依赖，打包生成新的资源路径。甚至可以针对：图片、视频等类型的资源，进行体积压缩、格式转换等操作。最后在`dist`目录中输出。



#### 静态资源

在`public`目录下的静态资源，除指定的`html`文件外，会被构建工具直接拷贝到`dist`目录中。

指定的`html`文件，会执行文件内的后端模板代码，并输出到`dist`目录中。









