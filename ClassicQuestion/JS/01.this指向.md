# this指向

> this指向在普通函数内，需要在调用时才确定。但在箭头函数内，this指向由箭头函数定义位置外的环境确定。



## 全局环境内this指向

> 不管在严格模式还是非严格模式下，全局环境内`this`始终指向全局对象。

1. 严格模式

   ```js
   'use strict';
   console.log(this); 
   ```

2. 非严格模式

   ```js
   console.log(this);
   ```

   

## 直接调用全局环境定义的函数

> 直接调用全局环境内定义的函数：
>
> 1. 严格模式下，`this`值为`undefined`。
> 2. 非严格模式下，`this`指向全局对象。

1. 严格模式下

   ```js
   function test(){
       'use strict';
       console.log(this);
   }
   
   test();
   ```

2. 非严格模式下

   ```js
   function test(){
       console.log(this);
   }
   
   test();
   ```





## call/apply/bind改变函数内this指向

> - `call/apply`在执行函数时，绑定函数内`this`指向，并传递参数。
> - `bind`绑定函数内`this`指向，以及固定函数参数，返回一个新的函数。
> - 在非严格模式下，传递原始值：
>   - 数值、字符串、布尔值、符号、大整数，会被包装为对应值的包装类对象。函数内`this`指向包装类对象。
>   - `null`、`undefined`，不改变函数内`this`指向。
> - 在严格模式下，传递原始值，则函数内`this`指向原始值。（传递什么，函数内`this`值是什么）































